---
title: mysql学习4（存储引擎）
published: 2025-11-01
description: mysql学习（存储引擎）
image: "./cover.jpg"
tags: ["mysql"]
category: mysql
draft: false
---

### MYSQL体系结构

#### 一.连接层

最上层是一些客户端和链接服务，主要完成一些类似于连接处理、授权认证、及相关的安全方案。服务器也会为安全接入的每个客户端验证它所具有的操作权限。

#### 二.服务层

第二层架构主要完成大多数的核心服务功能，如SQL接口，并完成缓存的查询，SQL的分析和优化，部分内置函数的执行。所以跨存储引擎的功能也在这一层实现，如过程、函数等。

#### 三.引擎层

存储引擎真正的负责了MYSQL中数据的存储和提取，服务器通过API和存储引擎进行通信。不同的存储引擎具有不同的功能，这样我们可以根据自己的需要，来选取合适的存储引擎

#### 4.存储层

主要是将数据存储在文件系统之上，并完成与存储引擎的交互。



### 存储引擎简介

存储引擎就是存储数据、建立索引、更新/查询数据等技术的实现方式。存储引擎是基于表的，而不是基于库的（一个数据库的不同表可以使用不同存储引擎），所以存储引擎也可被称为表类型。

**相关操作：**

```sql
SHOW CREATE TABLE tableName;            //查询建表语句
————————————————————————————————————————————————————————
CREATE TABLE 表名 (					  //建表时指定存储引擎
    ...
) ENGINE=INNODB;
————————————————————————————————————————————————————————
SHOW ENGINES;                          //查询当前数据库支持的存储引擎
————————————————————————————————————————————————————————
SHOW VARIABLES LIKE 'innodb_file_per_table';   //查看MYSQL变量
————————————————————————————————————————————————————————
ibd2sdi xxx.ibd							//从.idb文件中提取表结构数据
```



### 存储引擎特点

#### InnoDB

介绍：**InnoDB**是一种兼顾高可靠性和高性能的通用存储引擎，在MYSQL5.5之后，InnoDB是默认的存储引擎

特点： 1.DML操作遵循ACID模型，支持事务（ACID模型：原子性、一致性、隔离性、持久性）

​	    2.行级锁，提高并发访问性能

​	    3.支持外键约束，保证数据的完整性和正确性

文件：InnoDb的表空间文件格式xxx.idb，存储该表的表结构、数据和索引。

#### MYISAM

介绍：MYSQL早期的默认存储引擎

特点：1.不支持事务，不支持外键

​	    2.支持表锁，不支持行锁

​	    3.访问速度快

文件：1.xxx.sdi:存储表结构数据

​	    2.xxx.MYD:存储数据

​	    3.xxx.MYI:存储索引

### Memory

介绍：Memory引擎的表数据储存在内存中，由于硬件问题或是断电影响，只能将这些表作为临时表或缓存使用

特点：1.内存存放

​	    2.哈希索引（默认）

文件：xxx.sdi:存储表结构数据

#### 选择

***无脑选InnoDB***

